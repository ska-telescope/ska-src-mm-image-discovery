image: docker:git
services:
  - docker:dind

stages:
  - test

test-service:
  image:
    name: openjdk:21-jdk-slim
    entrypoint: [ "" ]
  before_script:
    - export JAVA_HOME=/usr/local/openjdk-21
  stage: test
  script:
    - ./mvnw dependency:go-offline
    - ./mvnw test